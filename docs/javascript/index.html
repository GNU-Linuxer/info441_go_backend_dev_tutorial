<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="../lib/bulma.min.css"><link rel="stylesheet" href="../lib/font-awesome-4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="../lib/prism.css"><link rel="icon" href="../img/page-icon.png"><meta property="og:type" content="website"><meta property="og:site_name" content="INFO Tutorials"><meta property="og:title" content="Introduction to JavaScript"><meta property="og:description" content="An overview of the language and its core types"><meta property="og:image" content="https://drstearns.github.io/tutorials/img/page-icon.png"><title>Introduction to JavaScript</title><style>.is-funky{background-image:linear-gradient(to right,#006064,#880E4F)}.is-funky .subtitle,.is-funky .title{color:#fff}.screenshot{border:1px dotted #ccc;padding:10px;margin-bottom:1em}.bookmark-link{color:#ddd;margin-left:.25em}.home-link{color:#eee}.home-link:hover{color:#fff}.byline{font-size:.85rem;font-style:italic}.shaded{background-color:#eee}</style></head><body><header><div class="hero is-funky"><div class="hero-body"><div class="container"><div class="columns is-mobile"><div class="column"><h1 class="title">Introduction to JavaScript</h1><p class="subtitle">An overview of the language and its core types</p></div><div class="column is-narrow"><a href=".." class="home-link"><span class="icon is-medium"><i class="fa fa-home" aria-hidden="true" aria-label="back to table of contents"></i></span></a></div></div></div></div></div></header><main class="section"><div class="container"><div class="content"><p class="byline">Last edited on Jan 17, 2018 by <a href="https://ischool.uw.edu/people/faculty/dlsinfo">Dave Stearns</a></p><p>HTML and CSS allow you to build beautiful static web sites, but to make those sites interactive, or to build sophisticated web applications, you must learn JavaScript. This tutorial introduces you to the JavaScript language itself, which now runs in many environments beyond web browsers.</p><blockquote><p>Note: this tutorial assumes you already know introductory programming in an imperative language like Java. If you don't, or if your knowledge is rusty, please read a <a href="https://en.wikiversity.org/wiki/Introduction_to_Programming">basic programming tutorial</a> first and/or review your notes from your basic programming course. This tutorial will focus on how JavaScript differs from languages like Java.</p></blockquote><h2 id="secimperativevsdeclarative">Imperative vs Declarative</h2><p>HTML and CSS are what we call <strong>declarative languages</strong>. You declare what you want to achieve, and some other computer program figures out the exact steps required to achieve that. For example, a CSS rule declares a selector and a set of formatting properties to apply, but the browser has to turn that into a series of step-by-step instructions that find those elements and apply those properties. SQL is another declarative language: you declare the data you want and the database engine's query processor turns that into a series of specific actions known as a query plan.</p><p>In contrast, C/C++, Go, Java, C#, Python, and JavaScript are all <strong>imperative languages</strong>. Instead of simply declaring what you want, you give the computer a series of step-by-step commands to execute: declare this variable; set it to this value; if the value is greater than some other value, do these commands, else do these other commands; etc. An imperative language allows you to encode an algorithm into something the computer can understand an execute. While declarative languages are typically specialized for just one type of task, imperative languages can be used to program just about anything because you can use them to encode any algorithm you can dream up.</p><p>Because computers do exactly what you tell them to do, these instructions must be very explicit, and very accurate. Unfortunately, <a href="https://www.youtube.com/watch?v=cDA3_5982h8">human beings are not very good at providing clear and precise instructions</a>. We take for granted a lot of contextual and experiential knowledge that computers don't have. Computers are very fast and accurate, but they are also very dumb and must be told <em>exactly</em> what to do. Much of the task of programming involves breaking down a problem or goal into a series of precisely-defined steps, what we call <a href="https://www.youtube.com/watch?v=6hfOvs8pY1k">algorithmic thinking</a>. Imperative languages then help us encode that algorithm so that the computer can execute it.</p><h2 id="secinterpretedvscompiled">Interpreted vs Compiled</h2><p>JavaScript is also an <strong>interpreted language</strong> meaning that the interpreter parses and executes each statement in your script at runtime. This is in contrast to Java, which requires you to compile your program using <code>javac</code> before you try to run it.</p><p>This makes development in JavaScript especially quick: just write/edit your code and re-run. Of course, this convenience comes with a few trade-offs:</p><ul><li>Interpreting code at runtime is naturally slower than executing compiled code</li><li>Without a compile step, programming errors will manifest at runtime rather than compile time, making it more difficult to know that your code is correct before you put it into production.</li></ul><p>Thankfully, the slower performance rarely matters for the kind of tasks we use JavaScript for in the browser. Most of the hard work is done by the browser itself, which is typically written in a compiled language like C++.</p><p>To make up for the loss of compile-time error checking, JavaScript developers make heavy use of various various <a href="https://eslint.org/">linting</a> and <a href="https://mochajs.org/">automated</a> <a href="https://facebook.github.io/jest/">testing</a> tools. The linters flag common problems in your source code that may lead to errors at runtime, and automated testing tools ensure that your code behaves correctly given various types of inputs. Many code editors can be configured to run these tools every time you save your files, giving you instant feedback about potential problems.</p><h2 id="secprogramstructureandsyntax">Program Structure and Syntax</h2><p>Now that you understand a bit about JavaScript in general, let's dive into the specifics of the language.</p><p>You might recall that all Java programs start by running a <code>public static void main(String[] args)</code> method on the class you pass to the <code>java</code> command. C/C++ and Go programs also start by running a function named <code>main()</code>. But JavaScript takes a much simpler approach: the interpreter starts at the beginning of your script file and executes each statement in turn until it reaches the end of the file. You can declare functions and call them, but you don't need to create a specially-named <code>main()</code> function that acts as the program's entry point. Just start writing code at the top of the file and the interpreter will run it!</p><p>Like Java, C#, and Go, JavaScript uses a garbage collector to automatically reclaim memory used for a value that is no longer reachable. In short, this means that you don't have to explicitly free memory like you do in C/C++.</p><p>The basic syntax used by JavaScript is based on that of Java and other C-like languages, so it will seem mostly familiar. Source code comments look like this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//this is a single line comment</span>

<span class="token comment" spellcheck="true">/*
    this is a multi-line
    comment, just like in Java
*/</span></code></pre><p>JavaScript also uses the exact same syntax as Java for <code>if/else</code> conditionals and <code>for</code> loops:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//code that executes if the condition is true</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//code that executes if the condition is false</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//standard for loop</span>
<span class="token comment" spellcheck="true">//note that the `i` variable is declared without</span>
<span class="token comment" spellcheck="true">//an explicit data type--see the next section</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//code that executes each time through the loop</span>
<span class="token punctuation">}</span></code></pre><p>JavaScript also supports the same <code>try/catch/finally</code> exception handling as Java:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//do something that might generate an exception</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//handle the exception</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//runs whether an exception occurred or not</span>
<span class="token punctuation">}</span></code></pre><p>Although you should end each statement with a semi-colon, JavaScript is less picky about this than other languages. In nearly all cases the interpreter can figure out where the end of each statement is even if you forget to include a semi-colon, so omitting them doesn't generate any errors. There are a few cases where this can bite you, however, so it's still considered good practice to end each statement with a semi-colon.</p><p>All of this syntactical similarity might lull you into the feeling that JavaScript is just a simpler form of Java, but resist the temptation to think of it that way. JavaScript is a <em>very</em> different language under the hood. Conflating the two will only confuse you. The next sections will illustrate why.</p><h2 id="secvariablesandconstants">Variables and Constants</h2><p>One of the first significant differences between JavaScript and other statically-typed languages like Java is that variables and function parameters in JavaScript are <strong>dynamically typed</strong>. When you declare a variable or function parameter, you don't specify the type of data that variable or parameter should hold. Instead, it can hold any type, and you can even switch the type of data it holds over its lifetime. Try running the following to illustrate this:</p><iframe height="800px" width="100%" src="https://repl.it/@drstearns/dynamically-typed-variables?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>To declare a variable, use the <code>let</code> keyword followed by the variable's name, and an optional initializing expression. If you omit the initializing expression, the variable is automatically initialized to the constant value <code>undefined</code>.</p><h3 id="secletvsvar">let vs var</h3><p>If you've programmed in JavaScript before, or have read older tutorials, you might have seen the <code>var</code> keyword used instead of <code>let</code> when declaring variables. The <code>let</code> keyword is relatively new, and there's an important difference between the two: <code>let</code> is block-scoped, while <code>var</code> is not. The difference is best explained with a quick example. Let's start with <code>var</code>. what do you think this program will print to the console after it runs? Take a guess and then run the script to find out if you were right.</p><iframe height="400px" width="100%" src="https://repl.it/@drstearns/var-is-not-block-scoped?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>If you thought it would print <code>5</code>, you are probably used to block-scoped variables in Java. In JavaScript, a variable declared with <code>var</code> is actually function or global-scoped, not block-scoped. The variable <code>x</code> in the example above is not actually re-declared inside the <code>if</code> condition block. Instead, the variable declared on line 1 is simply reused and reassigned on line 3 and 4. After you exit the <code>if</code> condition block, the variable <code>x</code> still points to that reassigned value, which is why this program prints <code>2</code> instead of <code>5</code>.</p><p>If you use <code>let</code> instead, the variable will become block-scoped, so the <code>let x = 1;</code> inside the <code>if</code> condition block will declare a <em>new</em> variable that can be seen and used only within the <code>if</code> block. Outside the <code>if</code> block, the global <code>x</code> variable will be used instead. Try running this code, which is exactly the same, only using <code>let</code> instead of <code>var</code>:</p><iframe height="400px" width="100%" src="https://repl.it/@drstearns/let-is-block-scoped?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>In general, you should use <code>let</code> instead of <code>var</code> unless you are writing code that must run in <a href="http://caniuse.com/#feat=let">Internet Explorer (IE) version 10 or earlier</a>. IE 11 and Edge both support the <code>let</code> keyword, and Microsoft no longer supports earlier versions of IE, but <a href="https://www.netmarketshare.com/browser-market-share.aspx?qprid=2&qpcustomd=0">a small percentage of desktops still run Windows XP with IE 8</a>. If you must support these browsers, you can use a "transpiler" like <a href="https://babeljs.io/">Babel</a> to translate source code with the new <code>let</code> keyword into equivalent code that uses <code>var</code>, at least until those older browsers are no longer a concern.</p><h3 id="secconstants">Constants</h3><p>Another relatively new keyword in JavaScript is <code>const</code>. As the name implies, it's used for declaring constants, which are variables that may be assigned a value only once. Declaring a constant looks similar to declaring a variable:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> ISCHOOL_URL <span class="token operator">=</span> <span class="token string">"https://ischool.uw.edu"</span><span class="token punctuation">;</span></code></pre><p>The key difference is that the value assigned to a constant may not change during the lifetime of the program. Attempting to do so will generate a runtime errors. Although you can give a constant any name you want, we typically use all upper-case names by convention. This signals to other developers that this is a read-only constant value.</p><p>Just like <code>let</code>, the <code>const</code> keyword <a href="http://caniuse.com/#feat=const">isn't support in IE 10 or earlier</a>. In those browsers, you have to use <code>var</code> instead, or use <a href="https://babeljs.io/">Babel</a> to transpile <code>const</code> into <code>var</code>.</p><h2 id="secstrictmode">Strict Mode</h2><p>JavaScript has traditionally been a very forgiving language. If you forgot to declare a variable before you referenced it, the interpreter would just automatically declare the variable for you and keep going. This seemed like a good feature for JavaScript's original target audience: web designers and self-taught programmers. But this behavior created some significant problems that the language creators didn't anticipate. For example, try running this code:</p><iframe height="400px" width="100%" src="https://repl.it/@drstearns/non-strict-mode-errors?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>Do you see the error? On line 4 we try to set the <code>firstName</code> variable, but we made a typo and referred to <code>fistName</code> instead. The JavaScript interpreter saw this and decided we meant to create a new variable named <code>fistName</code> and assign a value to it, so that's what it did. We then ask for the value of <code>firstName</code> and unexpectedly get <code>undefined</code>.</p><p>The language creators eventually realized that this behavior was probably more of a pitfall than a benefit, but they couldn't change the behavior without potentially breaking old code that might have relied on automatic variable declarations. So they introduced "strict mode," which you can enable by adding <code>"use strict";</code> to the top of your script, or to the top of a particular function. Older interpreters will simply evaluate this as a string literal that you never assign to a variable, so it effectively gets ignored. But newer interpreters that implement strict mode interpret this as a signal to switch into strict mode. This <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">disables a number of the forgiving "features"</a> in the original language specification, making it more reliable and predictable.</p><p>For example, with strict mode enabled, that same code will generate a runtime error instead of silently creating an unexpected result. This error will help you as a developer discover your mistake right away.</p><iframe height="500px" width="100%" src="https://repl.it/@drstearns/strict-mode?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>It is considered good practice to always use strict mode. Just add <code>"use strict";</code> at the top of each of your script files. If you end up using build tools that combine your script files with other scripts you get from the web, and you're concerned that they might not work when strict mode is enabled, you can wrap your code in a function and put <code>"use strict";</code> at the start of that function instead. This will enforce strict mode only within that function, and not elsewhere in the script file.</p><h2 id="secprimitivetypes">Primitive Types</h2><p>Now that you know how to declare variables, let's see what kinds of data you can assign to them. JavaScript has just a few primitive types:</p><ul><li>strings, which are surrounded by single or double quotes: <code>"Hello, World!"</code> or <code>'Hello, World!'</code></li><li>numbers, which include both integers and floating-point numbers: <code>10</code>, <code>3.14</code></li><li>booleans: <code>true</code> or <code>false</code></li><li><code>undefined</code>, which is used for uninitialized variables and parameters, but you can also assign this value to a variable at any time</li><li><code>null</code>, which is similar to, but not quite the same as <code>undefined</code></li></ul><h2 id="secarraysandobjects">Arrays and Objects</h2><p>In addition to these primitive types, JavaScript also has built-in support for two complex types: arrays and objects.</p><h3 id="secarrays">Arrays</h3><p>You probably remember arrays from your introductory computer science course: they are ordered lists of <strong>elements</strong> that can be randomly accessed. JavaScript arrays are similar to arrays in other languages, except that the dynamic typing of JavaScript means that array elements can be of any data type, and you can mix types within a single array (though that can get confusing so it's not advisable).</p><p>JavaScript has a simple syntax for creating new arrays:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//declare an array with 5 numbers</span>
<span class="token keyword">let</span> odds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//the .length property returns the array's length</span>
odds<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// returns 5</span>

<span class="token comment" spellcheck="true">//you can access any element using the `[index]` syntax</span>
<span class="token comment" spellcheck="true">//indexes are zero-based</span>
odds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => 1</span>
odds<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => 9</span>

<span class="token comment" spellcheck="true">//you can use a standard `for` loop to iterate the array</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> odds<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> curElement <span class="token operator">=</span> odds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>To add a new item to an array, use the <code>.push()</code> method:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//you can add one element at a time</span>
odds<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//or many elements at once</span>
odds<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Arrays have <a href="https://www.w3schools.com/jsref/jsref_obj_array.asp">lots of built-in methods</a>, and we will examine many of them in the <a href="../jsfunctional/">functional programming tutorial</a>.</p><h3 id="secobjects">Objects</h3><p>Objects in JavaScript are a bit of a misnomer. Those coming from object-oriented languages like Java might be tempted to think of them like an instance of some class, but they are really much simpler than that. In JavaScript an object is really just a <a href="https://en.wikipedia.org/wiki/Hash_table">hash table</a>, which is a data structure that stores a set of key-and-value pairs. It's like a dictionary with words (keys) and definitions (values), or a contacts list with names (keys) and contact records (values). You can add a new key/value pair, or ask for the value associated with a particular key. Both operations are very fast regardless of how many entries are in the hash table.</p><p>To create an object in JavaScript, we use this syntax:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//creates a new object with three properties</span>
<span class="token keyword">let</span> player <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">"Mary"</span>       <span class="token comment" spellcheck="true">//properties can be of any type</span>
    lastName<span class="token punctuation">:</span> <span class="token string">"Rodriguez"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//and are separated by commas</span>
    ranking<span class="token punctuation">:</span> <span class="token number">4</span>              <span class="token comment" spellcheck="true">//the last one having no trailing comma</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//you can get the value associated with a key</span>
<span class="token comment" spellcheck="true">//using the `.` syntax</span>
player<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "Mary"</span></code></pre><p>An object literal is a list of key/value pairs surrounded by braces (<code>{...}</code>). Each key is separated from its value using a colon (<code>:</code>). The keys must be strings, but the values can be of any type, including another object or array. If the key is not a legal JavaScript identifier (e.g., contains spaces), you must wrap the key in quotation marks.</p><p>Getting the value associated with a key is done using the <code>.</code> notation shown above. Since this syntax is similar to how you get the value of an object's property in Java, the keys of a JavaScript object are often referred to as <strong>properties</strong> of the object. But remember, JavaScript objects are not like Java classes: they are just hash tables that store key/value pairs. These so-called "properties" can be added to or removed from an object instance at runtime. Requesting the value for a key that doesn't yet exist simply returns <code>undefined</code> and does not produce an error. Assigning a value to a key that doesn't yet exist will add that key/value to the object:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//getting a value for a key that doesn't yet exist</span>
<span class="token comment" spellcheck="true">//just returns `undefined` with no error</span>
player<span class="token punctuation">.</span>email<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>

<span class="token comment" spellcheck="true">//add a new key/value pair to the object</span>
player<span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token string">"maryr@example.com"</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//get the value associated with that new key</span>
player<span class="token punctuation">.</span>email<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "maryr@example.com"</span></code></pre><p>You can also delete properties from an object:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//delete the key "email" and its associated value</span>
<span class="token keyword">delete</span> player<span class="token punctuation">.</span>email<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//getting the value for the key "email"</span>
<span class="token comment" spellcheck="true">//now returns `undefined`</span>
player<span class="token punctuation">.</span>email<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span></code></pre><p>Since getting the value for a key that doesn't exist returns <code>undefined</code>, you might be wondering if there's a way to distinguish between the key not being there at all, and the key being there with an explicit value of <code>undefined</code>. To tell the difference, use the <code>.hasOwnProperty()</code> method, which is available on every object:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//test whether the key "email" exists</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"email"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// "email" key/value exists in the object</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// no "email" key/value in the object</span>
<span class="token punctuation">}</span></code></pre><p>The <code>.</code> notation works whenever you know what the key name is, and only if that key name is a legal JavaScript identifier (e.g., no spaces). If the key is stored in a variable, or if the key is not a legal JavaScript identifier, you must use an array-like syntax instead when getting or setting the associated value.</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> propName <span class="token operator">=</span> <span class="token string">"ranking"</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//get value associated with a key</span>
<span class="token comment" spellcheck="true">//that is stored in a variable</span>
player<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => 4</span>


<span class="token comment" spellcheck="true">//same syntax is used if the key is</span>
<span class="token comment" spellcheck="true">//not a legal JavaScript identifier</span>
player<span class="token punctuation">[</span><span class="token string">"key with spaces"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"some value"</span><span class="token punctuation">;</span></code></pre><h3 id="seccombiningarraysandobjects">Combining Arrays and Objects</h3><p>Since array elements can be of any type, and objects are a type, you can build arrays of objects just as you would build an array of primitive types:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//create an array of objects</span>
<span class="token comment" spellcheck="true">//each element in the array is an object with 3 properties</span>
<span class="token keyword">let</span> players <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        firstName<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> 
        lastName<span class="token punctuation">:</span> <span class="token string">"Rodriguez"</span><span class="token punctuation">,</span> 
        ranking<span class="token punctuation">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        firstName<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> 
        lastName<span class="token punctuation">:</span> <span class="token string">"Chen"</span><span class="token punctuation">,</span> 
        ranking<span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        firstName<span class="token punctuation">:</span> <span class="token string">"Susan"</span><span class="token punctuation">,</span> 
        lastName<span class="token punctuation">:</span> <span class="token string">"Smith"</span><span class="token punctuation">,</span> 
        ranking<span class="token punctuation">:</span> <span class="token number">6</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//get the firstName property of the first element</span>
players<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstName<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "Mary"</span></code></pre><p>And since the values of object properties can be of any type, and arrays are a type, you can set an object's property to an array, even an array that stores other objects:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> player <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">"Rodriguez"</span><span class="token punctuation">,</span>
    ranking<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//the value of `emails` is an array of objects</span>
    <span class="token comment" spellcheck="true">//each of which has two properties</span>
    emails<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">"work"</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">"m.rodriguez@example.com"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">"personal"</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">"maryr@example.com"</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>This ability to nest arrays in objects and objects in arrays allows us to model just about any sort of data in JavaScript.</p><h2 id="secoperators">Operators</h2><p>JavaScript sports the same set of <a href="https://www.w3schools.com/jsref/jsref_operators.asp">operators</a> you'd find in most other languages, with a few notable differences. The first is the strict equality and strict inequality operators: <code>===</code> and <code>!==</code>. To understand these, you have to understand how JavaScript does automatic type coercion.</p><h3 id="secequalityandcoercion">Equality and Coercion</h3><p>In most languages, the compiler prohibits you from doing silly things like comparing a number to a string using the <code>==</code> operator, but in JavaScript, that's totally legal. For example this code will execute without error, and you might be a little surprised by the result:</p><iframe height="400px" width="100%" src="https://repl.it/@drstearns/equality-and-coercion?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>When JavaScript sees the <code>==</code> operator used with disparate types, it attempts to coerce one of the values to the type of the other value, according to some rules. In this case it converts the number <code>10</code> to the string <code>"10"</code> because that is a safe operation that will never fail (you can always convert a number to a string, but not all strings can be converted to numbers). It then compares <code>"10"</code> to <code>"10"</code> and finds them equal.</p><p>Although this automatic type coercion can be handy at times, it's dangerous in general and can lead to subtle bugs. Therefore, JavaScript also has a more strict equality operator: <code>===</code>. This operator does not do automatic type coercion, and will evaluate to <code>false</code> if the two values are of different types. Try running this code, which is exactly the same except for the operator used:</p><iframe height="400px" width="100%" src="https://repl.it/@drstearns/strict-equal-operator?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>In general, it's best practice to use <code>===</code> and <code>!==</code> wherever possible, but beware that since <code>null</code> and <code>undefined</code> are technically different data types, <code>null == undefined</code> but <code>null !== undefined</code>. If you want to test whether a value is something other than <code>null</code> or <code>undefined</code>, you might want to take advantage of JavaScript's "truthy" and "falsy" behavior.</p><h3 id="secbooleanexpressionsandtruthiness">Boolean Expressions and Truthiness</h3><p>JavaScript does automatic type coercion when evaluating Boolean expressions as well, even when you don't use any operators. For example, the following code will run, but the result may surprise you:</p><iframe height="1000px" width="100%" src="https://repl.it/@drstearns/truthiness?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>When the JavaScript interpreter sees <code>if (x)</code>, it knows it has to evaluate <code>x</code> as a Boolean expression (something that returns either <code>true</code> or <code>false</code>). In most languages, this would result in a compile error because a bare string isn't a Boolean value. But in JavaScript the interpreter just coerces <code>x</code> to a Boolean value and evaluates it for the condition. So what Boolean value should an empty string coerce to? Why, <code>false</code> of course! And what about a non-empty string? Well, that should obviously be <code>true</code>! And what about the literal string <code>"false"</code>? Well that's not empty, so it coerces to the Boolean value <code>true</code>. Makes perfect sense, right?</p><p>If this all sounds crazy to you, it kind of is, but it turns out to be really useful in many situations. The following non-Boolean values all coerce to <code>false</code> when used as a Boolean expression:</p><ul><li><code>0</code></li><li><code>""</code></li><li><code>undefined</code></li><li><code>null</code></li><li><code>NaN</code> (not a number)</li></ul><p>Most of the time, it makes sense to treat all of these values as <code>false</code>. For example, a player object with an empty string, <code>0</code>, <code>null</code>, or <code>undefined</code> value for the <code>lastName</code> property is probably invalid, so you can catch all of these cases with one <code>if ()</code> check:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//will be `true` if lastName is null, undefined, 0, or empty string</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>player<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"you must supply a last name!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Similarly, we can use this <a href="http://www.cc.com/video-clips/63ite2/the-colbert-report-the-word---truthiness">truthiness</a> behavior with the Boolean <code>||</code> operator to set default values if no actual values were supplied:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//define a player object somewhere</span>
<span class="token keyword">let</span> player <span class="token operator">=</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">"Rodriguez"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//somewhere else, default the `ranking` property</span>
<span class="token comment" spellcheck="true">//to the max numeric value if it's undefined, null, </span>
<span class="token comment" spellcheck="true">//zero or an empty string (all invalid values)</span>
player<span class="token punctuation">.</span>ranking <span class="token operator">=</span> player<span class="token punctuation">.</span>ranking <span class="token operator">||</span> Number<span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">;</span></code></pre><p>The JavaScript interpreter will evaluate that last line by first evaluating the Boolean <code>||</code> (OR) condition on the right. JavaScript, like many languages, does short-circuiting Boolean OR comparisons, so if the left side of the <code>||</code> operator is "truthy," it will use that value and not even consider the right side. But if the left is side is "falsy," it will ignore the left side and use the "truthy" value on the right. Since the <code>ranking</code> property was never set when we created the <code>player</code> object, <code>player.ranking</code> evaluates to <code>undefined</code>, which is falsy. Thus the <code>ranking</code> property gets set to <code>Number.MAX_VALUE</code> (the maximum numeric value). If the <code>ranking</code> property had been set, then <code>player.ranking</code> would be truthy and the interpreter would just reset the <code>ranking</code> property to its current value and ignore the right side. This allows us to set default values using a very simple and compact syntax.</p><h3 id="secternaryconditionoperator">Ternary Condition Operator</h3><p>JavaScript also has a ternary condition operator that comes in very handy. This is essentially an <code>if/else</code> expression. Instead of writing this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> y<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> <span class="token string">"foo"</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> <span class="token string">"bar"</span>
<span class="token punctuation">}</span></code></pre><p>You can do that all in one ternary condition expression, like this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> y <span class="token operator">=</span> x <span class="token operator">?</span> <span class="token string">"foo"</span> <span class="token punctuation">:</span> <span class="token string">"bar"</span><span class="token punctuation">;</span></code></pre><p>The general syntax is:</p><pre><code>expression ? value-expression-if-true : value-expression-if-false;</code></pre><p>Each element can be a complex expression, and the value expressions after the <code>?</code> and <code>:</code> can be another ternary condition operator, though that can get very confusing very quickly, so it's not encouraged.</p><h2 id="secfunctions">Functions</h2><p>Like most other languages, JavaScript allows you to organize your code into functions that can be called from other functions or global statements. Unlike Java, however, JavaScript functions don't have to be attached to a class; they are just declared with a name, and you can call that function by referencing its name.</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//declare a new function that returns a </span>
<span class="token comment" spellcheck="true">//greeting given a name</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//the + operator does string concatenation</span>
    <span class="token keyword">return</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//call that function</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"Mary"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "Hello, Mary!"</span></code></pre><p>A function declaration starts with the keyword <code>function</code> and is followed by the function's name and list of parameters. Note that the parameters, like the variables described above, have no explicit data type. You just specify the parameter name, which can be any name you want to give that parameter within your function.</p><p>To return a value from a function you use the <code>return</code> keyword followed by an expression. The interpreter evaluates that expression and returns the result to the code that called your function. If your function doesn't return anything, it implicitly returns <code>undefined</code>.</p><h3 id="secfunctionsarevalues">Functions are Values</h3><p>So far functions probably seem very similar to methods in Java, but this where things will start to get really weird. In JavaScript, <em>functions are values</em>. That is to say, a function can be used anywhere you can use a value (primitive values, arrays, or objects). You can assign a function to a variable, or pass a function as a parameter to another function, or even set an object property to a function (which is how we do <a href="../jsoop/">object-oriented programming in JavaScript</a>).</p><p>This might be a bit to take in, so let's start with something simple, though trivial. For example, we can assign our <code>greet()</code> function above to a variable, and then call that function using the variable instead of the function's name:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//declare a variable and set its value</span>
<span class="token comment" spellcheck="true">//to the function we defined above</span>
<span class="token comment" spellcheck="true">//notice we use just the function's name,</span>
<span class="token comment" spellcheck="true">//and there are no () after the name</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> greet<span class="token punctuation">;</span>

<span class="token function">x</span><span class="token punctuation">(</span><span class="token string">"Mary"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "Hello, Mary!"</span></code></pre><p>The expression <code>greet</code> in the code above returns a <em>reference</em> to the <code>greet()</code> function itself, and since that's a value, you can assign that to a variable. Note that the expression <code>greet</code> doesn't <em>invoke</em> the function—it simply returns a reference to the function itself. To invoke that function via the variable, just use <code>()</code> passing any parameters the function needs. In JavaScript <code>()</code> is actually an operator, like <code>++</code> or <code>--</code>. It is the "invocation operator" and it will invoke the function the variable refers to.</p><p>As you might expect, when you declare a function with a name, you are actually creating a new global variable that is set to that function value. So in the example above, <code>greet</code> is actually a global variable set to a function value, and when we execute <code>greet()</code>, the interpreter is just applying the invocation operator to the global variable <code>greet</code>. In fact, you can rewrite your function declarations like this and they will work in exactly the same way:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> greet <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"Mary"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => "Hello, Mary!"</span></code></pre><p>All we did here was change the syntax around: instead of declaring a function with a name, we declare a constant with that name and set it equal to a function. The interpreter handles either of these syntaxes in exactly the same way.</p><p>Since functions are values, you can create an array of functions, and invoke each of them as you iterate the array. For example, say you created several functions, each of which could validate that a value conformed to a particular rule. You could then create an array of those functions and execute each to verify that a particular value passes all the rules:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//returns true if `value` is an even number</span>
<span class="token keyword">function</span> <span class="token function">isEven</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//returns true if value is a double-digit number</span>
<span class="token keyword">function</span> <span class="token function">isDoubleDigit</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">>=</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">&lt;=</span> <span class="token number">99</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//returns true if `value` passes all validation</span>
<span class="token comment" spellcheck="true">//functions in the `validators` array</span>
<span class="token keyword">function</span> <span class="token function">isValid</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> validators<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//iterate over the `validators` array</span>
    <span class="token comment" spellcheck="true">//which is an array of *function references*</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> validators<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//get the current function reference</span>
        <span class="token keyword">let</span> validate <span class="token operator">=</span> validators<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//invoke the function, passing the value</span>
        <span class="token comment" spellcheck="true">//if it returns false, return false to the caller</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">//if we got here all validation functions passed!</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//create an array of validation function references</span>
<span class="token keyword">let</span> myValidators <span class="token operator">=</span> <span class="token punctuation">[</span>isEven<span class="token punctuation">,</span> isDoubleDigit<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//test various values</span>
<span class="token comment" spellcheck="true">//should return true only if value is even *and* is double-digit</span>
<span class="token function">isValid</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> myValidators<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// => true  (even and double-digit)</span>
<span class="token function">isValid</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> myValidators<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// => false (double-digit, but not even)</span>
<span class="token function">isValid</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> myValidators<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// => true  (even and double-digit)</span>
<span class="token function">isValid</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> myValidators<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => false (even, but not double-digit)</span></code></pre><p>Because JavaScript treats functions as values, and because it uses dynamic-typing and late-binding, we can write code like you see above. The <code>isValid()</code> function doesn't have to know anything about the function references stored in the <code>validators</code> array. As long as those functions accept one parameter, the <code>isValid()</code> function can invoke each of those functions using the invocation operator <code>()</code>, passing <code>value</code> as the parameter. If any of those functions return <code>false</code> (or in this case any "falsy" value), <code>isValid()</code> will return false. Otherwise, it returns <code>true</code>. Developers can add new validation functions over time, and our <code>isValid()</code> function will happily invoke them.</p><h3 id="secpassingfunctionstofunctions">Passing Functions to Functions</h3><p>If functions are values, we can also pass functions to other functions as parameters. If that makes your head hurt, let's start with a relatively simple example. Say we want to sort an array. JavaScript arrays have a built-in <code>.sort()</code> method, but because arrays elements can be of any type, that method coerces each array element to a string (anything can be coerced to a string) and sorts them alphabetically. If you want to sort your array elements numerically instead, or if your array elements are complex types like objects and you want to sort by a property of those objects, you need to give the <code>.sort()</code> method some help.</p><p>The <code>.sort()</code> method implements the core sorting algorithm, but it also lets you provide a function for comparing one element to another. The sorting algorithm will invoke this function many times, passing different array elements to your function for you to compare. That function must return a negative number if the first element is less than the second, a zero if they are equal to each other, or a positive number if the first element is greater than the second. Given that information, the sorting algorithm can sort the array's elements.</p><p>So to sort an array of numbers numerically, we first need a function that can compare two numbers and return values according to those rules. That function would look like this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//returns a negative number if n1 &lt; n2,</span>
<span class="token comment" spellcheck="true">//zero if n1 equals n2,</span>
<span class="token comment" spellcheck="true">//or a positive number if n1 > n2</span>
<span class="token keyword">function</span> <span class="token function">compareNums</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//just subtract n2 from n1</span>
    <span class="token keyword">return</span> n1 <span class="token operator">-</span> n2<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>By subtracting <code>n2</code> from <code>n1</code> we fulfill the rules of the sort comparison function. If <code>n1</code> is less than <code>n2</code> the value will be negative; if they are equal the value will be zero; and if <code>n1</code> is greater than <code>n2</code> the value will be positive.</p><p>Now let's use it to sort an array of numbers:</p><iframe height="800px" width="100%" src="https://repl.it/@drstearns/sort-example?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>When we call <code>nums.sort(compareNums)</code> we are passing a reference to our <code>compareNums</code> function to the <code>.sort()</code> method as a parameter. This allows the <code>.sort()</code> method to invoke our <code>compareNums</code> function as many times as it needs to in order to sort the numbers.</p><p>This sort of technique is also necessary when you want to sort an array of objects. The <code>.sort()</code> method can't know which property you want to sort the objects by, so you must supply a function that compares the elements by their property values. For example, say you had an array of objects and you wanted to sort by the <code>ranking</code> property:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> players <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">comparePlayersByRank</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//p1 and p2 are elements in the array</span>
    <span class="token comment" spellcheck="true">//so they are objects with a numeric </span>
    <span class="token comment" spellcheck="true">//`ranking` property</span>
    <span class="token keyword">return</span> p1<span class="token punctuation">.</span>ranking <span class="token operator">-</span> p2<span class="token punctuation">.</span>ranking<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//sort the players array by their `ranking` property</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>comparePlayersByRank<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Since <code>players</code> is an array of objects, each element in the array is an object with a numeric <code>ranking</code> property. When we sort that array, the sorting algorithm will invoke our comparison function several times, passing two elements from the array each time. Since those elements are objects, and since they both have a <code>ranking</code> property, we can return the result of subtracting the ranking property of the second parameter from the same property of the first parameter.</p><p>When passing a function to a function like this, you can either declare the function with a name and use the name to reference the function (as we've done so far), or you can actually supply the function declaration in-line.</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//sort the players array by their `ranking` property</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//p1 and p2 are elements in the array</span>
    <span class="token comment" spellcheck="true">//so they are objects with a numeric </span>
    <span class="token comment" spellcheck="true">//`ranking` property</span>
    <span class="token keyword">return</span> p1<span class="token punctuation">.</span>ranking <span class="token operator">-</span> p2<span class="token punctuation">.</span>ranking<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Notice that we've effectively replaced the <code>comparePlayersByRank</code> function reference with the function declaration. Since we are declaring and passing this function in-line, we don't need to give it a name, so there is no name in the declaration. We call this an <strong>anonymous function value</strong>, as it has no name and it's just like any other literal value in the language (e.g., <code>10</code> or <code>"hello"</code>). You will see these in-line anonymous function values quite a lot in professionally-written JavaScript code.</p><h3 id="secreturningfunctionsfromfunctions">Returning Functions from Functions</h3><p>Since functions are values, you can also return a function from a function. This comes in handy in many situations. For example, say you wanted to sort those numbers in descending order instead of ascending order. You could write another <code>compareNumsDesc()</code> function that reverses the logic in your <code>compareNums()</code> function, but that wouldn't help when you want a descending sort of strings or objects. Instead, we can write one <code>descending()</code> function that accepts a comparison function as a parameter, and returns a new comparison function that invokes the original comparator and negates the result.</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// `comparator` is a sort comparison function</span>
<span class="token comment" spellcheck="true">// (i.e., takes two array elements and returns a number)</span>
<span class="token keyword">function</span> <span class="token function">descending</span><span class="token punctuation">(</span>comparator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//return a new sort comparison function...</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>elem1<span class="token punctuation">,</span> elem2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//...that invokes `comparator` and negates the result</span>
        <span class="token comment" spellcheck="true">// (i.e., if comparator() returns a positive number,</span>
        <span class="token comment" spellcheck="true">// we return a negative number and vice versa;</span>
        <span class="token comment" spellcheck="true">// -0 === 0, so negating zero doesn't change the result).</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token function">comparator</span><span class="token punctuation">(</span>elem1<span class="token punctuation">,</span> elem2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>If this looks strange to you, pause and interpret it as the computer would, given what you've learned so far. This function <code>descending()</code> takes one parameter, which is a function. Like any function, it can return a value, and here we are returning another function (remember, functions are values!). That returned function accepts two parameters and returns a number, so it's a sort comparison function. When that returned function is eventually invoked by the sorting algorithm, it will in turn invoke the <code>comparator</code> function that was passed to <code>descending()</code> as a parameter, and negate the result: if <code>comparator()</code> returns a positive number, the new returned function will return a negative number instead, and vice-versa. Thankfully <code>-0 === 0</code> in JavaScript, so negating a zero doesn't change the results.</p><h3 id="secclosures">Closures</h3><p>If you're paying attention, you might be wondering how the returned function can make use of the <code>comparator</code> parameter passed to the <code>descending()</code> function, especially considering that the returned function will be invoked later, after the <code>descending()</code> function has finished executing. This is made possible by something known as a <strong>closure</strong>. When you declare a function inside another function (as we are doing here), the inner function retains a reference to the outer function's stack, which includes all parameters and local variables. When the inner function is invoked, it can refer to those parameters and variables, even if the outer function can finished executing.</p><p>To use this <code>descending()</code> function, we invoke it, passing another comparison function, and pass the new returned function to <code>.sort()</code>. Run this to see it in action!</p><iframe height="1000px" width="100%" src="https://repl.it/@drstearns/sort-descending-using-closure?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>The power of doing it this way is that we can now use <code>descending()</code> to do a descending sort with <em>any</em> sort comparison function. For example, we could use this same <code>descending()</code> function with the <code>comparePlayersByRank()</code> function defined in the previous section to sort the array of player objects by the <code>ranking</code> property in descending order:</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//sort the players by rank descending</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">descending</span><span class="token punctuation">(</span>comparePlayersByRank<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>If you've been paying attention, you are probably already thinking, "hey couldn't we also use this technique to create one comparison function that compares any numeric object property? Instead of writing <code>compareByRank()</code> and <code>compareByID()</code>, could we just write one <code>compareByNumericProp()</code> and pass the property <em>name</em> as the parameter?" Why yes, my Padawan learner, you could!</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">compareByNumericProp</span><span class="token punctuation">(</span>propName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//return a new comparison function...</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//...that compares the numeric values associated</span>
        <span class="token comment" spellcheck="true">//with the property name</span>
        <span class="token comment" spellcheck="true">//since `propName` is a variable holding a key name</span>
        <span class="token comment" spellcheck="true">//use the array-like syntax [ ] to access the </span>
        <span class="token comment" spellcheck="true">//associated value</span>
        <span class="token keyword">return</span> obj1<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">-</span> obj2<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Just as in the <code>descending()</code> example above, when we declare the new returned function, it creates a closure, allowing us to refer to the <code>propName</code> parameter inside the returned function. Since this is a string containing a key name, we must use the array-like <code>[]</code> syntax to get the associated value. See the sections on <a href="#secobjects">Objects</a> above for why that syntax is necessary.</p><p>You can then use this like so:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> players <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> ranking<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//sort by ranking</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compareByNumericProp</span><span class="token punctuation">(</span><span class="token string">"ranking"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//sort by id</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compareByNumericProp</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Notice how we didn't have to define two different comparison functions for the two different numeric properties. Instead, we can define just one function and pass the property name as a parameter.</p><p>And since our <code>descending()</code> function can work with any comparison function, you can combine the two to sort descending by a particular numeric property!</p><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//sort by ranking descending</span>
players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">descending</span><span class="token punctuation">(</span><span class="token function">compareByNumericProp</span><span class="token punctuation">(</span><span class="token string">"ranking"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="secconclusion">Conclusion</h2><p>JavaScript might seem simple at first glance, but as you've seen in this tutorial, it can get quite complex in a hurry. Like all languages, fluency comes with practice and time. There is no short-cut. If you want to be proficient in JavaScript, you must practice. The <a href="https://practiceit.cs.washington.edu/problem/list">Practice-It</a> system created by UW CSE now includes JavaScript problem sets, and the W3 Schools offers a <a href="https://www.w3resource.com/javascript-exercises/">large set of practice exercises</a> you can use to hone your skills. If you're taking INFO 343 with us, you'll also get plenty of practice both in-class and during your weekly challenges!</p><p>Once you have a good grasp on the basics of JavaScript, move on to the <a href="../jsfunctional/">Functional Programming in JavaScript</a> and the <a href="../jsoop/">Object-Oriented Programming in JavaScript</a> tutorials.</p></div></div></main><footer class="footer"><div class="container"><div class="content"><p>Created by <a href="https://ischool.uw.edu/people/faculty/dlsinfo">Dave Stearns</a>, <a href="https://ischool.uw.edu">The Information School</a>, <a href="https://uw.edu">University of Washington</a></p><p><a href=".."><span class="icon"><i class="fa fa-home"></i> </span>back to contents</a></p></div></div></footer><script>var headings=document.querySelectorAll("h2,h3,h4,h5");headings.forEach(function(e){var a=document.createElement("a");a.textContent="#",a.href="#"+e.id,a.classList.add("bookmark-link"),e.appendChild(a)})</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-102177301-1","auto"),ga("send","pageview")</script></body></html>